function [result] = negatiffff()  pkg load image  #Load image file  origin = imread('IMG.jpg');  origin = imresize(origin, 0.25);  #Show the original image  subplot(2,1,1);  imshow(origin);  subplot(2,1,2);  #Perform changes  newimg = process(origin);  #Show the image with hidden text  imshow(newimg);  imwrite(newimg, 'out.bmp');endfunctionfunction [newimg] = process(origin)  newimg = origin;  #Get maximum values, oughta be FF (= 255)  cmax(1) = max(vec(origin(:,:,1)));  cmax(2) = max(vec(origin(:,:,2)));  cmax(3) = max(vec(origin(:,:,3)));  for x=1:size(origin)(1)    for y=1:size(origin)(2)      #Засветляю и сжимаю динамический диапазон      newimg(x, y, 1)=cmax(1)-newimg(x, y, 1);      newimg(x, y, 2)=cmax(2)-0.7*newimg(x, y, 2);      newimg(x, y, 3)=cmax(3)-newimg(x, y, 3);    endfor  endforendfunction